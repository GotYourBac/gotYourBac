<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Add Drinks</title>
    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lora&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/css/base.css" />
    <link rel="stylesheet" type="text/css" href="/css/layout.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prefixfree/1.0.7/prefixfree.min.js"></script>
</head>

<body>
<main>
<div class="container">
    <input data-function="swipe" id="swipe" type="checkbox">
    <label data-function="swipe" for="swipe">&#xf057;</label>
    <label data-function="swipe" for="swipe">&#xf0c9;</label>

    <div class="headings">
        <h1>Got your BAC</h1>
        <h2>A tool for estimating your Blood Alcohol Content (BAC)</h2>
      <h2>Hello, [[${principal}]]. Welcome to the BAC calculator.</h2>
    </div>

    <div class="sidebar">
        <nav class="menu">
            <li><a href="/">Home</a></li>
            <li><a href="/registration">Registration</a></li>
            <li><a href="/login">Login</a></li>
            <li><a href="/profile">Profile</a></li>
            <li><a href="/drinks">Calculate</a></li>
            <li><a href="/balmer">BallmerPeak</a></li>
            <li><a href="/logout">Log out</a></li>
        </nav>
    </div>

</div>

<div>

    <div class="fixedContent">
        <h2>Add Drinks</h2>
        <form action="/addDrinks" method="POST">
            <label>Please select a drink: </label>
            <select name="drinkName" required>
                <option value="vodka">Vodka</option>
                <option value="beer">Beer</option>
                <option value="gin">Gin</option>
                <option value="rum">Rum</option>
                <option value="whiskey">Whiskey</option>
                <option value="wine">Wine</option>
            </select>

            <br>
            <br>

            <label>Select the size of drink:</label>
            <select name="drinkSize">
                <option value="12">12 oz</option>
                <option value="5">5 oz</option>
                <option value="1.5">1.5 oz</option>

            </select>

            <br>
            <br>

            <input type="submit" value="Add Drink">

        </form>

        <table>

            <th:block th:each="drink : ${listOfDrinks}">
                <form th:action="@{'/drinks/update'}" th:method="put">
                    <input type="hidden" name="_method" value="put">
                    <input type="hidden" name="id" th:value="${drink.id}">
                    <td th:text="${drink?.strIngredient}"></td>
                    <td th:text="${drink?.strABV}"></td>
                    <input type="number" name="strABV" th:value="${drink?.strABV}" required>
                    <td th:text="${drink?.drinkSize}"></td>
                    <select name="drinkSize" th:value="${drink?.drinkSize}" required>

                        <option value="12">12 oz</option>
                        <option value="5">5 oz</option>
                        <option value="1.5">1.5 oz</option>
                    </select>

                    <td><button type="submit">Update</button></td>
                </form>
                      <td>
                          <form th:action="@{'/drinks/delete'}" th:method="delete">
                            <input type="hidden" name="_method" value="delete">
                            <input type="hidden" name="id" th:value="${drink.id}">
                            <button type="submit"><img src="/images/deleteIcon.png" alt="Delete Icon"></button>
                        </form>
                      </td>
                    </tr>
            </th:block>



        </table>
        <h4>BAC Level</h4>
        <h5 th:text="${BAC == 0.0} ? 'Add a drink to calculate BAC.' : ${BAC}"></h5>
        <p th:text="${BAC == 0.0 } ? '' : ${chartBAC}"></p>
    </div>
    </main>
    <footer th:insert="fragments/footer.html :: footer"></footer>



</body>

</html>